page.html

<!DOCTYPE html>
<html>
<head>
        <meta charset='UTF-8'>
        <script src="/socket.io/socket.io.js"></script>
        <script type="text/javascript">
                var socket;
                function start(){
                        console.log('start');
                        socket.emit('startmsg',2000);
                };
                function stop(){
                        console.log('stop');
                        socket.emit('stopmsg',2000);
                };
                window.onload = function() {
                        var dataview1 = document.getElementById("dataview1");
                        var dataview2 = document.getElementById("dataview2");
                        var htstate = document.getElementById("htstate");
                        var fanstate = document.getElementById("fanstate");
                        socket = io.connect();
                        var html = "";
                        socket.on('htvalue', function(data){
                                dataview1.innerHTML=dataview2.innerHTML;
                                html = data;
                                dataview2.innerHTML=html;
                        });
                        socket.on('htstate',function(data){
                                htstate.style.color=data;
                        });
                        socket.on('fanstate',function(data){
                                fanstate.style.color=data;
                        });
                };
        </script>
</head>
<body bgcolor=yellow>
        <h2 align=center>적정온도 유지시스템</h2>
        <p><table border=0 width=600 cellspacing=5>
                <tr>
                        <td align=right>온습도측정</td>
                        <td><font id="htstate" color="#b0b0b0">●</font></td>
                        <td align=center><a href="javascript:void(0);" onclick="start();">가동</a></td>
                        <td align=center><a href="javascript:void(0);" onclick="stop();">중지</a></td>
                </tr>
                <tr>
                        <td></td><td></td>
                        <td align=center><a>이전측정값: </a><a id="dataview1">이
전측정값</a></td>
                </tr>
                <tr>
                        <td></td><td></td>
                        <td align=center><a>현재측정값: </a><a id="dataview2">현
재측정값</a></td>
                </tr>
                <tr>
                        <td align=right>팬(FAN)가동상태</td>
                        <td><font id="fanstate" color="#b0b0b0">●</font></td>
                </tr>
        </table></p>
</body></html>
